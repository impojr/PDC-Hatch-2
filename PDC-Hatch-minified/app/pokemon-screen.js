import*as saveManager from"./save.js";import*as pokemonManager from"./pokemon.js";import*as screenManager from"./screen.js";import*as messaging from"messaging";import document from"document";export function loadPokemon(e){var t=saveManager.loadState(),n=t.pokemon[e],o=document.getElementById("p-pokemon-icon"),a=document.getElementById("p-pokemon-sprite"),s=document.getElementById("p-pokemon-name"),m=document.getElementById("p-pokemon-level"),p=document.getElementById("p-pokemon-obtained"),l=document.getElementById("p-hatch-marquee"),d=document.getElementById("p-pokemon-steps"),g=document.getElementById("p-exp-percent"),c=document.getElementById("p-walk-button"),i=document.getElementById("p-make-partner-button"),y=document.getElementById("p-menu-button"),r=document.getElementById("p-pokemon-partner");c.style.display="none",i.style.display="none",y.style.display="inline",r.style.display="none",0==e?(c.style.display="inline",r.style.display="inline"):(i.style.display="inline",i.onclick=function(){t.pokemon.unshift(t.pokemon.splice(e,1)[0]),saveManager.saveState(t),screenManager.showPokemon(0)}),s.text=pokemonManager.getName(n),o.href="images/icons/"+pokemonManager.getImg(n)+".png",a.href="images/sprites/"+pokemonManager.getImg(n)+".png",g.width=225*pokemonManager.getNxtLvlPercent(n),m.text=pokemonManager.getLevel(n),d.text=n.steps+" steps walked",p.text="attained: "+n.dateRecieved,l.state="disabled",pokemonManager.isEgg(n)?(n.steps<5e3?l.text="It's not hatching anytime soon...":n.steps<8e3?l.text="It will hatch eventually...":l.text="It's gonna hatch soon!",setTimeout(()=>{l.state="enabled"},2e3)):l.text="hatched: "+n.dateHatched}export function sync(){var e=saveManager.loadState(),t=document.getElementById("p-menu-button"),n=document.getElementById("p-walk-button");document.getElementById("p-pokemon-steps").text="syncing...",n.style.display="none",t.style.display="none",console.log("save.lastSyncDate.SyncDate "+e.lastSyncDate.SyncDate),console.log("save.lastSyncDate.SyncTime "+e.lastSyncDate.SyncTime),messaging.peerSocket.send(e.lastSyncDate)}